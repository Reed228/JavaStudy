**一、什么是redis**

        Redis是由意大利人Salvatore Sanfilippo（网名：antirez）开发的一款内存高速缓存数据库。Redis全称为：Remote Dictionary Server（远程数据服务），
     
     该软件使用c语言编写，Redis是一个key-value存储系统，它支持丰富的数据类型，如：_string、list、set、zset（sorted set）、hash_。
   
**二、为什么要使用redis**   

        在项目中使用redis，主要是从两个角度去考虑:性能和并发。当然，redis还具备可以做分布式锁等其他功能，但是如果只是为了分布式锁这些其他功能，
     
     完全还有其他中间件(如zookpeer等)代替，并不是非要使用redis。因此，这个问题主要从性能和并发两个角度去答。
 
     _(一) 性能_
   
       我们在碰到需要执行耗时特别久，且结果不频繁变动的SQL，就特别适合将运行结果放入缓存。这样，后面的请求就去缓存中读取，使得请求能够迅速响应。_
      
     _(二) 并发_
   
       在大并发的情况下，所有的请求直接访问数据库，数据库会出现连接异常。这个时候，就需要使用redis做一个缓冲操作，让请求先访问到redis，而不是直接访问数据库。
       
**三、使用redis有什么缺点**       

      (一) 缓存和数据库读写一致性问题
      
      (二) 缓存雪崩问题
      
      (三) 缓存击穿问题
      
      (四) 缓存并发竞争问题
      
**四、单线程的redis为什么这么快**      

      (一) 纯内存操作   --redis 是内存型数据库，支持持久化
      
      (二) 单线程操作，避免了频繁的上下文切换
      
      (三) 采用了非阻塞I/O多路复用机制（下面重点介绍）
      
             简单来说，就是。我们的redis-client在操作的时候，会产生具有不同事件类型的socket。在服务端，有一段I/0多路复用程序，将其置入队列之中。
             
          然后，文件事件分派器，依次去队列中取，转发到不同的事件处理器中。
  
**五、redis的数据类型，以及每种数据类型的使用场景**

      (一)String
            这个其实没啥好说的，最常规的set/get操作，value可以是String也可以是数字。一般做一些复杂的计数功能的缓存。
            
      (二)hash
            这里value存放的是结构化的对象，比较方便的就是操作其中的某个字段。博主在做单点登录的时候，就是用这种数据结构存储用户信息，以cookieId作为key，
            设置30分钟为缓存过期时间，能很好的模拟出类似session的效果。
            
      (三)list
            使用List的数据结构，可以做简单的消息队列的功能。另外还有一个就是，可以利用lrange命令，做基于redis的分页功能，性能极佳，用户体验好。本人还用一个场景，
            很合适---取行情信息。就也是个生产者和消费者的场景。LIST可以很好的完成排队，先进先出的原则。
            
      (四)set
            因为set堆放的是一堆不重复值的集合。所以可以做全局去重的功能。为什么不用JVM自带的Set进行去重？因为我们的系统一般都是集群部署，使用JVM自带的Set，比较麻烦，
            难道为了一个做一个全局去重，再起一个公共服务，太麻烦了。
            另外，就是利用交集、并集、差集等操作，可以计算共同喜好，全部的喜好，自己独有的喜好等功能。
            
      (五)sorted set
            sorted set多了一个权重参数score,集合中的元素能够按score进行排列。可以做排行榜应用，取TOP N操作。      
            
            
**六、 redis的持久化**

        redis提供了两种持久化的方案: RDB 和 AOF
        
        (一) RDB: 按照一定的时间间隔对数据库基本时间点的快照文件 
        — 优点 : 快照文件非常小 适合于灾难恢复 
        — 缺点 : 容易丢失数据 因为快照保存是有时间节点的,占用内存比较大
        
        (二) AOF: 记录服务端收到对数据有改动的命令, 并将这些命令记录到本地的文件, 一般称为日志文件, 当服务器再次启动时, 
                  会根据日志文件恢复数据集, 如果日志文件变大, 会自动在后台进行重构redis的日志文件 
        — 优点 : 数据保存的比较完整 只会出现极小的数据丢失 
        — 缺点 : 日志文件比较大,不适合灾难恢复
